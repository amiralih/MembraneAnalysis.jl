<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial · MembraneAnalysis.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="MembraneAnalysis.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">MembraneAnalysis.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Introduction</a></li><li><a class="tocitem" href="fluctuation_analysis.html">Fluctuation Analysis</a></li><li><a class="tocitem" href="curvature_analysis.html">Curvature Analysis</a></li><li><a class="tocitem" href="thickness_analysis.html">Thickness Analysis</a></li><li class="is-active"><a class="tocitem" href="tutorial.html">Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Setting-analysis-parameters"><span>Setting analysis parameters</span></a></li><li><a class="tocitem" href="#Calculating-fluctuation-spectrum"><span>Calculating fluctuation spectrum</span></a></li><li><a class="tocitem" href="#Calculating-area-expansion-modulus"><span>Calculating area expansion modulus</span></a></li><li><a class="tocitem" href="#Calculating-mean-height-from-midplane-of-the-heavy-atoms-of-the-lipids"><span>Calculating mean height from midplane of the heavy atoms of the lipids</span></a></li><li><a class="tocitem" href="#Calculating-mean-sampled-curvature-of-heavy-atoms-of-the-lipids"><span>Calculating mean sampled curvature of heavy atoms of the lipids</span></a></li><li><a class="tocitem" href="#Transverse-curvature-bias-curve"><span>Transverse curvature bias curve</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="tutorial.html">Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="tutorial.html">Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/amiralih/MembraneAnalysis.jl/blob/main/docs/src/tutorial.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Example-usage-of-MembraneAnalysis.jl"><a class="docs-heading-anchor" href="#Example-usage-of-MembraneAnalysis.jl">Example usage of <code>MembraneAnalysis.jl</code></a><a id="Example-usage-of-MembraneAnalysis.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Example-usage-of-MembraneAnalysis.jl" title="Permalink"></a></h1><p>In this tutorial we showcase some of the main functionality of the package by analyzing an atomistic simulations of a membrane containing DOPC lipids and %10 mol fraction cholesterol. <code>MembraneAnalysis.jl</code> needs a PDF structure file (here <code>s.pdb</code>) and trajectory files of any format supported by <code>Chemfiles.jl</code> (here <code>t1.nc</code> to <code>t200.nc</code>).</p><h2 id="Setting-analysis-parameters"><a class="docs-heading-anchor" href="#Setting-analysis-parameters">Setting analysis parameters</a><a id="Setting-analysis-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-analysis-parameters" title="Permalink"></a></h2><p>It is useful to define a set of parameters that we will need for input arguments of the methods.</p><ul><li><code>pdb_file</code>: the PDB structure file</li><li><code>traj_dir</code>: folder containing trajectory files</li><li><code>traj_name</code>: trajecotry file name without numerical index and file extension</li><li><code>traj_inds</code>: range of numerical indices of trajectory files</li><li><code>traj_ext</code>: file extension of trajecotries</li><li><code>lipids</code>: list of lipids in the system (from instances of <code>Lipid</code> type defined in <code>src/lipids.jl</code></li><li><code>L_grid</code>: lattice grid length (in length unit of trajectories) used for discretizing the membrane surface</li><li><code>q_max</code>: q mode magnitude upper cut-off in the analysis</li><li><code>output_dir</code>: a directory for all the output files generated by methods</li></ul><pre><code class="language-julia hljs">begin
  const pdb_file = &quot;s.pdb&quot;
  const traj_dir = &quot;./&quot;
  const traj_name = &quot;t&quot;
  const traj_inds = 1:200
  const traj_ext = &quot;.nc&quot;
  const lipids = [DOPC_aa, Chol_aa]
  const L_grid = 15
  const q_max = 0.08
  const output_dir = &quot;./&quot;
  if !isdir(output_dir) mkdir(output_dir) end
end</code></pre><h2 id="Calculating-fluctuation-spectrum"><a class="docs-heading-anchor" href="#Calculating-fluctuation-spectrum">Calculating fluctuation spectrum</a><a id="Calculating-fluctuation-spectrum-1"></a><a class="docs-heading-anchor-permalink" href="#Calculating-fluctuation-spectrum" title="Permalink"></a></h2><p><code>fluctuation_spectrum</code> calculates discrete Fourirer modes of surface height and thickness fluctuations and stores them in an HDF5 file for each trajectory.</p><pre><code class="language-julia hljs">for i in traj_inds
    traj_file = traj_dir * traj_name * string(i) * traj_ext
    output_file = output_dir * &quot;fs_$(i).h5&quot;

    fluctuation_spectrum(;
        pdb_file=pdb_file,
        traj_file=traj_file,
        output_file=output_file,
        lipids=lipids,
        L_grid=L_grid
    )
end</code></pre><h2 id="Calculating-area-expansion-modulus"><a class="docs-heading-anchor" href="#Calculating-area-expansion-modulus">Calculating area expansion modulus</a><a id="Calculating-area-expansion-modulus-1"></a><a class="docs-heading-anchor-permalink" href="#Calculating-area-expansion-modulus" title="Permalink"></a></h2><p><code>area_expansion_modulus</code> calculates area expansion modulus from area fluctuations and stores them in a file.</p><pre><code class="language-julia hljs">traj_files = [traj_dir * traj_name * string(i) * traj_ext for i in traj_inds]
output_file = output_dir * &quot;KA.dat&quot;

area_expansion_modulus(;
    traj_files=traj_files,
    output_file=output_file
)</code></pre><h2 id="Calculating-mean-height-from-midplane-of-the-heavy-atoms-of-the-lipids"><a class="docs-heading-anchor" href="#Calculating-mean-height-from-midplane-of-the-heavy-atoms-of-the-lipids">Calculating mean height from midplane of the heavy atoms of the lipids</a><a id="Calculating-mean-height-from-midplane-of-the-heavy-atoms-of-the-lipids-1"></a><a class="docs-heading-anchor-permalink" href="#Calculating-mean-height-from-midplane-of-the-heavy-atoms-of-the-lipids" title="Permalink"></a></h2><p>We use the first trajecotry to calculate the average height of the heavy atoms of the lipids using <code>lipids_atoms_heights</code> method which will save them to <code>XXXX_zs.dat</code> files in the specified output directory (where &quot;XXXX&quot; is the name of the lipid).</p><pre><code class="language-julia hljs">traj_file = traj_dir * traj_name * string(first(traj_inds)) * traj_ext
fs_file = output_dir * &quot;fs_$(first(traj_inds)).h5&quot;

lipids_atoms_height(;
    pdb_file=pdb_file,
    traj_file=traj_file,
    fs_file=fs_file,
    output_dir=output_dir,
    lipids=lipids
)</code></pre><h2 id="Calculating-mean-sampled-curvature-of-heavy-atoms-of-the-lipids"><a class="docs-heading-anchor" href="#Calculating-mean-sampled-curvature-of-heavy-atoms-of-the-lipids">Calculating mean sampled curvature of heavy atoms of the lipids</a><a id="Calculating-mean-sampled-curvature-of-heavy-atoms-of-the-lipids-1"></a><a class="docs-heading-anchor-permalink" href="#Calculating-mean-sampled-curvature-of-heavy-atoms-of-the-lipids" title="Permalink"></a></h2><p>We calculate the average sampled curvature of the heavy atoms of the lipids using <code>lipids_sampled_curvature</code> method which will save them to <code>XXXX_cs.dat</code> files in the specified output directory (where &quot;XXXX&quot; is the name of the lipid).</p><pre><code class="language-julia hljs">traj_files = [traj_dir * traj_name * string(i) * traj_ext for i in traj_id]
fs_files = [output_dir * &quot;fs_$(i).h5&quot; for i in traj_inds]

lipids_sampled_curvature(;
    pdb_file=pdb_file,
    traj_files=traj_files,
    fs_files=fs_files,
    output_dir=output_dir,
    lipids=lipids,
    q_max=q_max
)</code></pre><h2 id="Transverse-curvature-bias-curve"><a class="docs-heading-anchor" href="#Transverse-curvature-bias-curve">Transverse curvature bias curve</a><a id="Transverse-curvature-bias-curve-1"></a><a class="docs-heading-anchor-permalink" href="#Transverse-curvature-bias-curve" title="Permalink"></a></h2><p>Using the outputs of the two previous steps we can plot the transverse curvature bias curves, which can be used to identify the neutral surface atom of each lipid, calculate the bending modulus of the membrane and estimate the difference in spontanous curvature of the membrane components <a href="#1">[1]</a>. &lt;p align=&quot;center&quot;&gt; &lt;img src=&quot;https://github.com/amiralih/MembraneAnalysis.jl/blob/aa9d4999c326abc512bd719b6c6a1e155c8cb94c/tutorial/TCB<em>DOPC</em>10.png&quot; width=&quot;500&quot;&gt; &lt;/p&gt;</p><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><p>&lt;a id=&quot;1&quot;&gt;[1]&lt;/a&gt;  Sapp, K. C., Beaven, A. H., and Sodt, A. J. (2021).  Spatial extent of a single lipid&#39;s influence on bilayer mechanics Phys. Rev. E 103, 042413.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="thickness_analysis.html">« Thickness Analysis</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 24 January 2023 20:20">Tuesday 24 January 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
